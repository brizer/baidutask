<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
<style type="text/css">
.tips {border:1px solid gray;display: none; width:200px;}
ul {margin:0;padding: 0;}
li {list-style: none;}
li:hover {
	background-color: gray;
}
</style>
	</head>
	<body>
		<input type="text" name="txt" id="txt" value="" />
		<div class="tips">
		</div>
	</body>
<script type="text/javascript">
	var txt=document.getElementById('txt');
	var tips=document.getElementsByClassName('tips');
	var array=['tyq','tyq1','tyq2','lf','lf1','lf2'];
	//获得焦点事件
	txt.onkeyup=function(){
			var onarray=[];
		for(var i=0;i<array.length;i++){
			if(array[i].indexOf(txt.value)!=-1){
				onarray.push(array[i]);
			}
		}
		if(onarray.length!=0){
			tips[0].style.display='block';
			var listr="";
			for(var i=0;i<onarray.length;i++){
				listr+="<li>&nbsp;&nbsp;&nbsp;"+onarray[i]+"</li>";
			}
			var htmlstr="<ul>"+listr+"</ul>";
			tips[0].innerHTML=htmlstr;
		}
	}
	var i=-1;
	var value='';
	//失去焦点事件
	txt.onblur=function(){
		if(txt.value==null||txt.value==''){
			tips[0].style.display='none';
			tips[0].innerHTML="";
			i=-1;
			value='';
		}
	}
	//按上下键选择项
	txt.onkeydown=function(event){
		var event=event||window.event;
		if(event.keyCode==40){
//			如果按到下箭头
			i++;
		    value = tip.childNodes[0].childNodes[i].innerHTML;
		    txt.value=value.replace(/\&nbsp\;/g,'');
		}
		if(event.keyCode==38&&i>0){
			i--;
			value=tip.childNodes[0].childNodes[i].innerHTML;
			txt.value=value.replace(/\&nbsp\;/g,'');
		}
		if(event.keyCode==13){
			txt.value=value.replace(/\&nbsp\;/g,'');
			tips[0].style.display="none";
			tips[0].innerHTML="";
		}
	}
	//点击列表中值使得文本框值更改
	var tip=tips[0];
	tip.onclick=function(event){
		var event=event||window.event;
		var src=event.target||event.srcElement;
		txt.value=src.innerHTML.replace(/\&nbsp\;/g,'');
		tips[0].style.display="none";
		tips[0].innerHTML="";
	}
</script>
</html>
